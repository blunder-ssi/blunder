; Copyright 2023 The Plunder Authors
; Use of this source code is governed by a BSD-style license that can be
; found in the LICENSE file.

### demo_wait_loop <- demo_token_ring

/+  boot
/+  io
/+  stew


""" Wait Loop """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

= (waitLoop k)
| trk 'waitLoop',k
: now <- syscall TIME_WHEN
| trk 'now',now
: _ <- syscall (**TIME_WAIT (add now 1))
| trk %waited
| waitLoop k


main=(runCog waitLoop)
